## **Swarmai.chat 产品需求文档 (PRD)**

* **文档名称：** Swarmai.chat V1.0 产品需求文档
* **版本：** V1.0
* **创建日期：** 2025 年 6 月 23 日
* **作者：** Gemini (AI Assistant)
* **核心干系人：** 产品负责人、UI/UX 设计师、前后端架构师、项目经理

---

### **1. 产品概述 (Product Overview)**

#### **1.1. 项目背景**
当前 AI 应用多为单一智能体对话模式，用户在处理复杂任务时，需在不同 AI 间手动切换、整合信息，效率低下且体验割裂。市场亟需一种能让多个专业 AI 协同工作，以更自然、高效的方式完成知识工作的全新解决方案。Swarmai.chat 应运而生，它是一个 AI 原生的即时通讯（IM）平台，将先进的多智能体（Multi-Agent）协作范式与用户熟悉的 IM 交互界面相结合。

#### **1.2. 产品愿景**
成为知识工作者的首选 AI 协同平台，将 AI 从“对话工具”提升为“生产力伙伴”，让每个用户都能轻松组建和指挥自己的虚拟专家团队，高效、深度地完成复杂任务。

#### **1.3. 问题陈述**
知识工作者在利用 AI 时面临以下核心痛点：
* **认知负担重：** 用户需自行拆解任务，并不断通过提示词工程（Prompt Engineering）引导通用 AI 扮演不同角色。
* **视角单一：** 单一 AI 的回答缺乏多角度的审视和批判，容易产生片面或错误的结论。
* **流程割裂：** AI 生成的零散文本需要用户手动整理成结构化的文档、报告或计划，工作流不连贯。
* **知识局限：** 通用 AI 无法深入理解用户私有或垂直领域的专业知识。

---

### **2. 产品目标 (Product Goals)**

#### **2.1. 目标用户 (Target Audience)**

* **核心用户画像 (Persona):**
    * **P1: 研究分析师 (Alex):** 28 岁，咨询公司分析师。日常需要阅读大量行业报告、分析数据、撰写研究纪要。痛点是信息过载，渴望能快速提炼观点、交叉验证、并获得批判性反馈。
    * **P2: 内容创作者 (Chloe):** 25 岁，科技博主。需要持续进行头脑风暴、搜集资料、撰写稿件、生成社交媒体文案。痛点是创意枯竭，需要不同风格的 AI 激发灵感并辅助内容生产。
    * **P3: 软件工程师 (Sam):** 32 岁，独立开发者。需要进行技术方案设计、代码评审、撰写技术文档。痛点是需要快速获得不同技术栈的实现思路和潜在问题的反馈。

#### **2.2. 商业目标与成功指标 (OKRs for V1.0)**

* **Objective 1: 验证多智能体协同的核心价值**
    * **KR1:** 核心用户次周留存率达到 40%。
    * **KR2:** 超过 50% 的活跃用户创建过至少一个“群聊”（即多 AI 会话）。
    * **KR3:** 在用户反馈中，提及“高效”、“深度”、“多视角”等正面关键词的比例超过 60%。
* **Objective 2: 打磨流畅的基础产品体验**
    * **KR1:** 用户首次使用能在 5 分钟内成功创建群聊并发起任务。
    * **KR2:** P95（95% 的用户）的 AI 响应延迟（从发送到首个字符出现）低于 2 秒。
    * **KR3:** 应用 NPS（净推荐值）达到 +20。

---

### **3. 功能需求 (Functional Requirements)**

#### **3.1. 核心功能模块**

##### **3.1.1. 智能体/角色系统 (Agent System)**

* **FR-101: 预置系统角色**
    * **用户故事：** 作为一个新用户，我希望系统预置一些开箱即用的 AI 角色，这样我能快速体验产品的核心功能，而无需从零开始配置。
    * **需求描述：**
        1.  系统需内置至少 10 个不同专业领域的 AI 角色。
        2.  V1.0 预置角色建议包括：`文章摘要师`、`批判性思考者`、`创意大师`、`翻译专家`、`代码助手`、`市场分析师`、`Twitter文案大师`等。
        3.  每个角色应有明确的名称、头像、简介和能力标签（如 `#文本摘要`, `#代码生成`）。
    * **验收标准：** 用户可在“发现”或“添加好友”界面看到所有预置角色列表。

* **FR-102: 查看角色详情**
    * **用户故事：** 在添加一个 AI 角色前，我希望能查看它的详细信息，以判断它是否符合我的需求。
    * **需求描述：**
        1.  点击任一角色头像，可进入其详情页。
        2.  详情页需展示：头像、名称、简介、能力标签、绑定的工具（V1.0 可暂不展示）、使用示例（Prompt 范例）。
    * **验收标准：** 角色详情页内容完整，信息清晰。

##### **3.1.2. 即时通讯核心 (IM Core)**

* **FR-201: 会话列表 (左栏)**
    * **用户故事：** 我希望在一个地方看到我所有的聊天，并能快速区分是和单个 AI 聊天还是群聊。
    * **需求描述：**
        1.  左栏统一展示所有会话，按最近更新时间排序。
        2.  每个会话项需显示：会话名称、参与者头像（群聊显示多个）、最后一条消息摘要、时间戳。
        3.  提供“创建新聊天”的入口。
    * **验收标准：** 会话列表能正确显示和更新。

* **FR-202: 对话窗口 (中栏)**
    * **用户故事：** 我希望能像使用微信或 Slack 一样，在一个流畅的界面里和 AI 进行对话。
    * **需求描述：**
        1.  支持发送和接收文本消息。
        2.  消息气泡需用不同头像和样式明确区分发送者（用户 vs. 不同 AI）。
        3.  支持 Markdown 渲染（加粗、列表、代码块等）。
        4.  支持 AI 流式输出（Streaming），文本逐字或逐句出现，避免长时间等待。
        5.  输入框支持`@`提及功能，输入`@`后弹出当前会话中的 AI 角色列表，供用户选择并发送定向指令。
        6.  支持上传文件（V1.0 优先支持 .txt, .md, .pdf）。
    * **验收标准：** IM 交互流畅，`@`功能可用，文件可成功上传并被 AI 识别。

* **FR-203: 会话管理**
    * **用户故事：** 我希望能自由地创建聊天，并邀请不同的 AI 角色加入或退出。
    * **需求描述：**
        1.  用户可创建新会话，选择与单个 AI 角色开始单聊。
        2.  在单聊或群聊中，应有管理入口，允许用户“添加成员”（即邀请更多 AI 角色），将单聊升级为群聊。
        3.  用户可为群聊自定义名称。
    * **验收标准：** 用户可成功创建单聊和群聊，并能动态增删 AI 成员。

##### **3.1.3. 协同工作流与工作区 (Collaboration & Workspace)**

* **FR-301: 基础协同模式 (流水线)**
    * **用户故事：** 我希望 AI 们能按顺序自动处理任务，比如一个 AI 总结完，另一个 AI 马上开始翻译。
    * **需求描述：**
        1.  系统需支持基础的“流水线”协作模式。
        2.  当用户上传文件或发送链接后，可以`@`某个 AI 进行处理。该 AI 处理完成后，可由用户手动`@`下一个 AI 继续处理其输出结果。
        3.  (V1.0 范围外：自动触发的流水线)
    * **验收标准：** AI 之间可以基于上一个 AI 的输出结果继续工作。

* **FR-302: 动态工作区 (右栏)**
    * **用户故事：** 我不希望重要的结论和要点淹没在聊天记录里，我希望能有一个专门的地方展示和整理这些结构化信息。
    * **需求描述：**
        1.  界面右侧为工作区，与中间对话区并存。
        2.  V1.0 阶段，工作区提供两个基础模块：
            * **实时摘要 (Summary):** 由 AI（或用户手动指定）自动将对话中的关键结论和要点填充到此区域。
            * **待办事项 (To-Do List):** AI 能识别对话中的行动点，并将其添加为可勾选的待办事项。
        3.  用户可以在对话区选中一段文本，右键选择“发送到工作区摘要/待办”。
        4.  工作区内容支持手动编辑和复制。
    * **验收标准：** 工作区能展示摘要和待办事项，并支持基础的编辑和交互。

#### **3.2. 典型用户流程 (User Flow)**

**流程示例：深度阅读一篇文章**

1.  **启动：** 用户`Alex`点击“创建新聊天”。
2.  **选角：** Alex 选择与`@文章摘要师`开始单聊。
3.  **任务：** Alex 将一篇行业报告的 URL 粘贴到输入框，并发送。
4.  **单聊交互：** `@文章摘要师`返回了文章的核心摘要。右侧“工作区”的“摘要”模块自动填充了这些内容。
5.  **升级群聊：** Alex 觉得需要批判性视角，点击会话顶部的“添加成员”，邀请`@批判性思考者`加入群聊。会话名称自动或手动变更为“行业报告深度阅读”。
6.  **协同交互：** Alex 在群聊中输入：`@批判性思考者 请基于上面的摘要，分析其论证的潜在漏洞。`
7.  **结果呈现：** `@批判性思考者`输出了几点批判性意见。同时，这些意见也被智能地追加到了右侧工作区的“摘要”模块下，或形成一个新的“风险点”模块。
8.  **完成工作：** Alex 从右侧工作区复制出完整的、包含正反两方面意见的摘要，粘贴到自己的工作文档中。

---

### **4. 非功能性需求 (Non-Functional Requirements)**

* **NFR-1: 性能 (Performance)**
    * 页面加载时间：首次加载 < 3 秒，后续页面切换 < 1 秒。
    * AI 响应延迟（P95）：从用户发送指令到 AI 流式输出第一个字符 < 2 秒。
* **NFR-2: 可用性 (Usability)**
    * 产品界面应简洁直观，核心操作路径清晰，符合主流 IM 用户习惯。
    * 为核心功能提供新手引导（Onboarding）。
* **NFR-3: 安全性 (Security)**
    * 用户认证需安全可靠（如 OAuth 2.0）。
    * 用户上传的数据和聊天记录需加密存储。
    * 与第三方 LLM API 的通信需加密。
* **NFR-4: 可靠性 (Reliability)**
    * 核心服务可用性 > 99.9%。
    * 有优雅的错误处理机制，如 AI 响应超时或失败时，向用户提供清晰的提示。

---

### **5. V1.0 范围外 (Out of Scope)**

为确保 V1.0 能聚焦核心价值并按时交付，以下功能将暂不包含：

* 用户自定义 AI 角色。
* 角色市场（分享、评价、下载角色）。
* 高级协作模式（如辩论、投票）。
* 高级工作区模块（如思维导图、流程图、看板）。
* 多人类用户协作。
* 连接企业私有知识库。
* 移动端 App。

---

### **6. 假设与依赖 (Assumptions & Dependencies)**

* **假设：**
    * 用户对 IM 产品的交互模式有基本了解。
    * 多智能体协作的价值能被目标用户感知并认可。
* **依赖：**
    * 依赖第三方 LLM（如 OpenAI, Google, Anthropic）提供稳定、高性能的 API 服务。
    * 产品功能和成本会受到所选 LLM 的能力和价格策略的直接影响。

---

### **7. 术语表 (Glossary)**

* **AI 角色/智能体 (Agent):** 一个封装了基础模型、行为指令、知识和工具的虚拟 AI 实体。
* **群聊 (Group Chat):** 一个包含至少一个用户和一个以上 AI 角色的会话，是执行协同任务的场所。
* **工作区 (Workspace):** 用于呈现和编辑由 AI 协同生成的结构化成果的右侧区域。
* **编排 (Orchestration):** 系统根据用户指令和预设规则，调度不同 AI 角色协同工作的过程。