# AI æ¨¡å‹æ›´æ–°æŒ‡å—

## ğŸ“… æœ€æ–°æ›´æ–°ï¼š2025-11-05

## ğŸ¯ å½“å‰ä½¿ç”¨çš„æ¨¡å‹åˆ—è¡¨

æœ¬é¡¹ç›®ç°åœ¨åªä½¿ç”¨ä»¥ä¸‹æœ€æ–°ä¸€ä»£ AI æ¨¡å‹ï¼š

### Google Gemini 2.5 ç³»åˆ—
- âœ… `google/gemini-2.5-flash` - å¿«é€Ÿé«˜è´¨é‡æ¨¡å‹ï¼ˆæ¨èé€šç”¨ä»»åŠ¡ï¼‰
- âœ… `google/gemini-2.5-flash-lite` - è½»é‡çº§å¿«é€Ÿæ¨¡å‹ï¼ˆæ¨èç®€å•ä»»åŠ¡ï¼‰

### Anthropic Claude 4.5 ç³»åˆ—
- âœ… `anthropic/claude-sonnet-4.5` - é«˜çº§æ¨ç†æ¨¡å‹ï¼ˆæ¨èå¤æ‚ä»»åŠ¡ï¼‰
- âœ… `anthropic/claude-haiku-4.5` - å¿«é€Ÿç»æµæ¨¡å‹

### OpenAI GPT-5 ç³»åˆ—
- âœ… `openai/gpt-5` - æ——èˆ°é«˜çº§æ¨¡å‹ï¼ˆæ¨èæ•°æ®ç§‘å­¦ç­‰ä»»åŠ¡ï¼‰
- âœ… `openai/gpt-5-mini` - ç»æµå®æƒ ç‰ˆæœ¬

### DeepSeek V3
- âœ… `deepseek/deepseek-chat-v3-0324` - ä¸“ç²¾ä»£ç ä»»åŠ¡

## ğŸ”„ æœ¬æ¬¡æ›´æ–°å†…å®¹

### æ¨¡å‹å‡çº§è¯¦æƒ…

| æ™ºèƒ½ä½“ç±»å‹ | æ—§æ¨¡å‹ | æ–°æ¨¡å‹ | åŸå›  |
|-----------|--------|--------|------|
| é€šç”¨åŠ©æ‰‹ | gemini-2.0-flash-exp | **gemini-2.5-flash** | æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ |
| äº§å“ç»ç† | claude-3.5-sonnet | **claude-sonnet-4.5** | éœ€è¦é«˜çº§æ¨ç† |
| è¥é”€ç­–ç•¥ä¸“å®¶ | claude-3.5-sonnet | **claude-sonnet-4.5** | éœ€è¦åˆ›æ„å’Œç­–ç•¥ |
| æŠ€æœ¯æ¶æ„å¸ˆ | claude-3.5-sonnet | **claude-sonnet-4.5** | éœ€è¦å¤æ‚æŠ€æœ¯æ¨ç† |
| æ•°æ®ç§‘å­¦å®¶ | gpt-4o | **gpt-5** | å‡çº§åˆ°æœ€æ–°æ——èˆ°æ¨¡å‹ |
| åˆ›æ„æ–‡æ¡ˆ | claude-3.5-sonnet | **claude-sonnet-4.5** | éœ€è¦é«˜è´¨é‡åˆ›ä½œ |
| æ‰¹åˆ¤æ€§æ€è€ƒè€… | claude-3.5-sonnet | **claude-sonnet-4.5** | éœ€è¦é€»è¾‘æ¨ç† |
| å•†ä¸šæˆ˜ç•¥é¡¾é—® | claude-3.5-sonnet | **claude-sonnet-4.5** | éœ€è¦æˆ˜ç•¥æ€ç»´ |
| ä»£ç ä¸“å®¶ | gemini-2.0-flash-exp | **deepseek-chat-v3** | DeepSeek ä¸“ç²¾ä»£ç  |
| UXè®¾è®¡ä¸“å®¶ | gemini-2.0-flash-exp | **gemini-2.5-flash** | éœ€è¦åˆ›æ„å’Œé€Ÿåº¦å¹³è¡¡ |
| æ—…è¡Œè§„åˆ’ä¸“å®¶ | gemini-2.0-flash-exp | **gemini-2.5-flash-lite** | å¿«é€Ÿå“åº”å³å¯ |
| è®¨è®ºä¸»æŒäºº | gemini-2.0-flash-exp | **gemini-2.5-flash-lite** | å¿«é€Ÿå“åº”å³å¯ |

### æ¨¡å‹é€‰æ‹©ç­–ç•¥

æ ¹æ®ä»»åŠ¡ç±»å‹é€‰æ‹©æœ€åˆé€‚çš„æ¨¡å‹ï¼š

#### ğŸ¯ å¤æ‚æ¨ç†ä»»åŠ¡ â†’ Claude Sonnet 4.5
- äº§å“è®¾è®¡å’Œéœ€æ±‚åˆ†æ
- è¥é”€ç­–ç•¥åˆ¶å®š
- ç³»ç»Ÿæ¶æ„è®¾è®¡
- å•†ä¸šæˆ˜ç•¥è§„åˆ’
- æ‰¹åˆ¤æ€§æ€ç»´åˆ†æ
- åˆ›æ„æ–‡æ¡ˆåˆ›ä½œ

#### ğŸš€ æ•°æ®ç§‘å­¦å’Œé«˜çº§åˆ†æ â†’ GPT-5
- æ•°æ®åˆ†æå’Œç»Ÿè®¡å»ºæ¨¡
- æœºå™¨å­¦ä¹ åº”ç”¨
- å¤æ‚æ•°å­¦é—®é¢˜

#### ğŸ’» ä»£ç ç›¸å…³ä»»åŠ¡ â†’ DeepSeek V3
- ä»£ç ç¼–å†™å’Œå®¡æŸ¥
- ç®—æ³•è®¾è®¡
- æŠ€æœ¯é—®é¢˜è§£å†³

#### âš¡ å¿«é€Ÿå“åº”ä»»åŠ¡ â†’ Gemini 2.5 Flash
- é€šç”¨å¯¹è¯å’Œé—®ç­”
- UX/UI è®¾è®¡å»ºè®®
- å†…å®¹æ€»ç»“

#### ğŸŒŸ ç®€å•å¿«é€Ÿä»»åŠ¡ â†’ Gemini 2.5 Flash Lite
- æ—…è¡Œè§„åˆ’å»ºè®®
- ä¼šè®®ä¸»æŒå’Œæ€»ç»“
- å¿«é€Ÿä¿¡æ¯æŸ¥è¯¢

## ğŸ’° æ¨¡å‹å®šä»· (æ¯ç™¾ä¸‡ tokens)

| æ¨¡å‹ | ä»·æ ¼ | æ€§ä»·æ¯” |
|------|------|--------|
| gemini-2.5-flash-lite | $0.0375 | â­â­â­â­â­ æœ€ä¼˜ |
| gemini-2.5-flash | $0.075 | â­â­â­â­â­ æå¥½ |
| deepseek-chat-v3 | $0.14 | â­â­â­â­ å¾ˆå¥½ |
| claude-haiku-4.5 | $0.25 | â­â­â­â­ å¾ˆå¥½ |
| gpt-5-mini | $0.30 | â­â­â­ è‰¯å¥½ |
| claude-sonnet-4.5 | $3.00 | â­â­â­ é«˜è´¨é‡ |
| gpt-5 | $5.00 | â­â­ æ——èˆ°çº§ |

## ğŸš€ å¦‚ä½•åº”ç”¨æ›´æ–°

### æ–¹æ³• 1ï¼šé‡å¯å¼€å‘æœåŠ¡å™¨ï¼ˆå¿…é¡»ï¼‰

```bash
# åœæ­¢å½“å‰æœåŠ¡å™¨ (Ctrl+C)
# é‡æ–°å¯åŠ¨
npm run dev
# æˆ–
pnpm dev
```

### æ–¹æ³• 2ï¼šæ›´æ–°æ•°æ®åº“ä¸­çš„æ™ºèƒ½ä½“é…ç½®

```bash
# é‡æ–°æ’­ç§æ™ºèƒ½ä½“æ•°æ®
npm run db:seed
# æˆ–
pnpm exec tsx prisma/seed-agents.ts
```

**æ³¨æ„**ï¼šæ­¤æ“ä½œä¼šæ›´æ–°æ‰€æœ‰æ™ºèƒ½ä½“çš„æ¨¡å‹é…ç½®ã€‚

### æ–¹æ³• 3ï¼šæ‰‹åŠ¨æ•°æ®åº“æ›´æ–°ï¼ˆé«˜çº§ï¼‰

```sql
-- æ›´æ–°ç‰¹å®šæ™ºèƒ½ä½“çš„æ¨¡å‹
UPDATE swarm_ai_agents 
SET "modelPreference" = 'google/gemini-2.5-flash'
WHERE id = 'general-assistant';

-- æ‰¹é‡æ›´æ–° Claude æ¨¡å‹
UPDATE swarm_ai_agents 
SET "modelPreference" = 'anthropic/claude-sonnet-4.5'
WHERE "modelPreference" LIKE 'anthropic/claude-3.5%';

-- æ‰¹é‡æ›´æ–° Gemini æ¨¡å‹
UPDATE swarm_ai_agents 
SET "modelPreference" = 'google/gemini-2.5-flash'
WHERE "modelPreference" LIKE 'google/gemini-2.0%';
```

## âœ… éªŒè¯æ›´æ–°

æµ‹è¯•æ–°æ¨¡å‹æ˜¯å¦æ­£å¸¸å·¥ä½œï¼š

```bash
# 1. é‡å¯æœåŠ¡å™¨åï¼Œæ‰“å¼€åº”ç”¨
# 2. åˆ›å»ºæ–°å¯¹è¯æˆ–æ‰“å¼€ç°æœ‰å¯¹è¯
# 3. é€‰æ‹©ä»»æ„æ™ºèƒ½ä½“
# 4. å‘é€æµ‹è¯•æ¶ˆæ¯ï¼š"ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸€ä¸‹ä½ ä½¿ç”¨çš„AIæ¨¡å‹"
```

æ£€æŸ¥åç«¯æ—¥å¿—ï¼Œåº”è¯¥çœ‹åˆ°ç±»ä¼¼ï¼š
```
ğŸ” Chat API - Selected model: google/gemini-2.5-flash
âœ… Chat API - AI stream created successfully
```

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

| æŒ‡æ ‡ | Gemini 2.5 Flash | Claude Sonnet 4.5 | GPT-5 | DeepSeek V3 |
|------|-----------------|-------------------|-------|-------------|
| å“åº”é€Ÿåº¦ | âš¡âš¡âš¡âš¡âš¡ | âš¡âš¡âš¡ | âš¡âš¡âš¡ | âš¡âš¡âš¡âš¡ |
| æ¨ç†è´¨é‡ | â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ |
| ä»£ç èƒ½åŠ› | â­â­â­ | â­â­â­â­ | â­â­â­â­ | â­â­â­â­â­ |
| åˆ›æ„å†™ä½œ | â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­ |
| æˆæœ¬æ•ˆç›Š | â­â­â­â­â­ | â­â­â­ | â­â­ | â­â­â­â­ |

## ğŸ” æ•…éšœæ’æŸ¥

### é—®é¢˜ 1ï¼šæ¨¡å‹ 404 é”™è¯¯

**ç—‡çŠ¶**ï¼š
```
Error [AI_APICallError]: Not Found
responseBody: "{"error":{"message":"No endpoints found for xxx","code":404}}"
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®è®¤ OpenRouter API Key æœ‰æ•ˆ
2. æ£€æŸ¥æ¨¡å‹åç§°æ‹¼å†™æ˜¯å¦æ­£ç¡®
3. è®¿é—® [OpenRouter Models](https://openrouter.ai/models) ç¡®è®¤æ¨¡å‹å¯ç”¨
4. é‡å¯å¼€å‘æœåŠ¡å™¨

### é—®é¢˜ 2ï¼šæ™ºèƒ½ä½“ä½¿ç”¨æ—§æ¨¡å‹

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# é‡æ–°æ’­ç§æ™ºèƒ½ä½“æ•°æ®
npm run db:seed
```

### é—®é¢˜ 3ï¼šAPI é…é¢ä¸è¶³

**ç—‡çŠ¶**ï¼š
```
Error: Insufficient credits
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç™»å½• [OpenRouter](https://openrouter.ai)
2. æ£€æŸ¥è´¦æˆ·ä½™é¢
3. å……å€¼æˆ–ä½¿ç”¨å…è´¹é¢åº¦è¾ƒé«˜çš„æ¨¡å‹ï¼ˆå¦‚ Gemini Flash Liteï¼‰

### é—®é¢˜ 4ï¼šå“åº”è´¨é‡ä¸‹é™

**è§£å†³æ–¹æ¡ˆ**ï¼š
- å¯¹äºå¤æ‚ä»»åŠ¡ï¼Œåˆ‡æ¢åˆ°æ›´é«˜çº§çš„æ¨¡å‹ï¼ˆClaude Sonnet 4.5 æˆ– GPT-5ï¼‰
- è°ƒæ•´æ¸©åº¦å‚æ•°ï¼ˆtemperatureï¼‰
- ä¼˜åŒ–ç³»ç»Ÿæç¤ºè¯ï¼ˆsystem promptï¼‰

## ğŸ“ é…ç½®æ–‡ä»¶è¯´æ˜

### 1. API è·¯ç”±é…ç½®
**æ–‡ä»¶**: `src/app/api/chat/route.ts`
- `getModelForAgent()` - å®šä¹‰æ¯ä¸ªæ™ºèƒ½ä½“ä½¿ç”¨çš„æ¨¡å‹
- `calculateCost()` - å®šä¹‰æ¨¡å‹å®šä»·

### 2. æ™ºèƒ½ä½“ç§å­æ•°æ®
**æ–‡ä»¶**: `prisma/seed-agents.ts`
- æ¯ä¸ªæ™ºèƒ½ä½“çš„ `modelPreference` å­—æ®µ

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. æ¨¡å‹é€‰æ‹©å»ºè®®

```typescript
// âœ… æ¨èï¼šæ ¹æ®ä»»åŠ¡å¤æ‚åº¦é€‰æ‹©
const simpleTask = 'google/gemini-2.5-flash-lite'     // ç®€å•é—®ç­”
const normalTask = 'google/gemini-2.5-flash'          // é€šç”¨å¯¹è¯
const complexTask = 'anthropic/claude-sonnet-4.5'     // å¤æ‚æ¨ç†
const codeTask = 'deepseek/deepseek-chat-v3-0324'     // ä»£ç ç›¸å…³
const premiumTask = 'openai/gpt-5'                    // æœ€é«˜è´¨é‡

// âŒ ä¸æ¨èï¼šæ‰€æœ‰ä»»åŠ¡éƒ½ç”¨æœ€è´µçš„æ¨¡å‹
const allTask = 'openai/gpt-5'  // æˆæœ¬è¿‡é«˜
```

### 2. æˆæœ¬ä¼˜åŒ–ç­–ç•¥

1. **åˆ†å±‚ä½¿ç”¨**ï¼šç®€å•ä»»åŠ¡ç”¨è½»é‡æ¨¡å‹ï¼Œå¤æ‚ä»»åŠ¡ç”¨é«˜çº§æ¨¡å‹
2. **ç¼“å­˜ç­–ç•¥**ï¼šå¯¹ç›¸ä¼¼é—®é¢˜ä½¿ç”¨ç¼“å­˜å‡å°‘APIè°ƒç”¨
3. **æ‰¹é‡å¤„ç†**ï¼šåˆå¹¶å¤šä¸ªå°è¯·æ±‚ä¸ºä¸€ä¸ªå¤§è¯·æ±‚
4. **ç›‘æ§ç”¨é‡**ï¼šå®šæœŸæ£€æŸ¥å„æ¨¡å‹çš„ä½¿ç”¨æƒ…å†µå’Œæˆæœ¬

### 3. è´¨é‡ä¿è¯

1. **æµ‹è¯•è¦†ç›–**ï¼šæ¯ä¸ªæ™ºèƒ½ä½“æ›´æ–°æ¨¡å‹åéƒ½è¿›è¡Œæµ‹è¯•
2. **A/B æµ‹è¯•**ï¼šå¯¹æ¯”æ–°æ—§æ¨¡å‹çš„è¾“å‡ºè´¨é‡
3. **ç”¨æˆ·åé¦ˆ**ï¼šæ”¶é›†ç”¨æˆ·å¯¹AIå“åº”è´¨é‡çš„åé¦ˆ
4. **å®šæœŸå®¡æŸ¥**ï¼šæ¯æœˆå®¡æŸ¥æ¨¡å‹æ€§èƒ½å’Œæˆæœ¬

## ğŸ”— ç›¸å…³èµ„æº

- [OpenRouter æ¨¡å‹åˆ—è¡¨](https://openrouter.ai/models)
- [OpenRouter API æ–‡æ¡£](https://openrouter.ai/docs)
- [Anthropic Claude 4.5 æ–‡æ¡£](https://docs.anthropic.com/claude/docs)
- [Google Gemini 2.5 å‘å¸ƒå…¬å‘Š](https://ai.google.dev/gemini-api/docs)
- [OpenAI GPT-5 æ–‡æ¡£](https://platform.openai.com/docs)
- [DeepSeek V3 æ–‡æ¡£](https://www.deepseek.com/docs)

## ğŸ“ˆ æœªæ¥è§„åˆ’

### çŸ­æœŸè®¡åˆ’
- [ ] æ·»åŠ æ¨¡å‹æ€§èƒ½ç›‘æ§ä»ªè¡¨æ¿
- [ ] å®ç°æ™ºèƒ½æ¨¡å‹è·¯ç”±ï¼ˆæ ¹æ®ä»»åŠ¡è‡ªåŠ¨é€‰æ‹©æ¨¡å‹ï¼‰
- [ ] æ·»åŠ æ¨¡å‹å“åº”è´¨é‡è¯„åˆ†ç³»ç»Ÿ

### é•¿æœŸè®¡åˆ’
- [ ] æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰æ¨¡å‹é€‰æ‹©
- [ ] å®ç°å¤šæ¨¡å‹é›†æˆï¼ˆensembleï¼‰
- [ ] æ·»åŠ æˆæœ¬é¢„ç®—æ§åˆ¶åŠŸèƒ½
- [ ] æ”¯æŒæœ¬åœ°æ¨¡å‹éƒ¨ç½²é€‰é¡¹

---

**æ›´æ–°å®Œæˆï¼** ğŸ‰ 

ç°åœ¨æ‚¨çš„åº”ç”¨å·²é…ç½®ä¸ºä½¿ç”¨æœ€æ–°ä¸€ä»£çš„ AI æ¨¡å‹ï¼Œåœ¨æ€§èƒ½ã€è´¨é‡å’Œæˆæœ¬ä¹‹é—´è¾¾åˆ°æœ€ä½³å¹³è¡¡ã€‚

**é‡è¦æé†’**ï¼šè¯·ç«‹å³é‡å¯å¼€å‘æœåŠ¡å™¨ä½¿æ›´æ”¹ç”Ÿæ•ˆï¼
